{% extends 'main.html' %}
{% load static %}
{% block content %}
<div class="relative w-full flex flex-col h-screen overflow-y-hidden">
    <div class="w-full overflow-x-hidden border-t flex flex-col">
        <main class="w-full flex-grow p-6">
            <h1 class="text-3xl text-black pb-6">Home</h1>
            <div class="flex flex-wrap" style="text-align: -webkit-center;">
                <div class="w-full lg:w-1/2 pr-0 lg:pr-2">
                    <div class="p-6 bg-white ">
                        <!-- Card -->
                        <h1 class="text-3xl text-black pb-6 text-center ">Next Launch</h1>
                        <card id="test" class="flex relative h-[20rem] md:h-96 w-full md:w-[35rem] rounded-lg">
                            <!-- Background Image -->
                            <img src="{% static 'imgs/card-1-background.webp' %}" alt="SpaceX launch background image" class="object-cover w-full h-full rounded-lg" />
                            
                            <!-- Content -->
                            <div class="absolute w-full h-full bottom-0 bg-gradient-to-r from-fuchsia-700/30 to-violet-700 rounded-lg flex flex-col items-center justify-center text-center">
                                
                                <!-- Company Logo -->
                                <img class="ml-7 w-[55%] md:w-[200px] md:h-[30px] mb-2" src="{% static 'imgs/spacex-logo.webp' %}" alt="SpaceX company logo"/>
                                <span class="font-bold text-center text-sm md:text-2xl text-gray-300">Launchpad</span>
                                <h1 class="flex justify-center text-center text-xs md:text-2xl text-gray-300">{{next_launchpad.name}}</h1>
                                <ul class="mb-4 flex justify-center text-center md:text-2xl text-gray-300">
                                    <li class="flex flex-col"><span class="font-bold text-sm">Flight No.</span> {{next_launch.flight_number}}</li>
                                    <li class="mx-6 flex flex-col"><span class="font-bold text-sm">Crew</span> {{ next_launch.crew|length }}</li>
                                    <li class="flex flex-col"><span class="font-bold text-sm">Failures</span> TBD</li>
                                </ul>
                                <!-- Photo -->
                                <div class="w-[20%] lg:w-auto" style="text-align: -webkit-center;">
                                    <img src="{{next_launch.links.patch.small}}" alt="SpaceX launch badge image" class="rounded-full border-2 " width="100" height="100"/>
                                </div>
                                <!-- Title -->
                                <p class="text-base md:text-xl font-bold px-14 text-gray-300 ">
                                    {{next_launch.name}}
                                </p>
                                {% if not next_launch.links.article %}
                                <a href="{{next_launch.links.reddit.campaign}}" class="text-sm font-light px-14 text-blue-300 " target="_blank" rel="noopener noreferrer">
                                    Reddit Discussion
                                </a>
                                {% else %}
                                <a href="{{next_launch.links.article}}" class="text-sm font-light px-14 text-blue-300 " target="_blank" rel="noopener noreferrer">
                                    SpaceX Launch Article
                                </a>
                                {% endif %}
                                <!-- Display the countdown timer in an element -->
                                <p id="demo" class="bg-yellow-300 text-gray-600 font-bold text-sm md:text-base rounded-md px-2 mt-1"></p>
                            </div>
                        </card>
                        <!-- END Card -->
                    </div>
                </div>
                <div class="w-full lg:w-1/2 pl-0 lg:pl-2 mt-12 lg:mt-0">
                    <div class="p-6 bg-white">
                        <!-- Card -->
                        <h1 class="text-3xl text-black pb-6 text-center">Previous Launch</h1>
                        <card class="flex relative h-[20rem] w-full md:h-96  md:w-[35rem] rounded-lg">

                            <!-- Background Image -->
                            <img src="{% static 'imgs/card-2-background.webp' %}" alt="SpaceX launch background image" class="object-cover w-full h-full rounded-lg" />
                            
                            <!-- Content -->
                            <div class="absolute w-full h-full bottom-0 bg-gradient-to-r from-fuchsia-700/30 to-violet-700 rounded-lg flex flex-col items-center justify-center text-center">
                            
                                <!-- Company Logo -->
                                <img class="ml-7 w-[55%] md:w-[200px] md:h-[30px] mb-2" src="{% static 'imgs/spacex-logo.webp' %}" alt="SpaceX company logo"/>
                                <span class="font-bold text-center text-sm md:text-2xl text-gray-300">Launchpad</span>
                                <h1 class="flex justify-center text-center text-xs md:text-2xl text-gray-300">{{past_launchpad.name}}</h1>
                                <ul class="mb-4 flex justify-center text-center md:text-2xl text-gray-300">
                                    <li class="flex flex-col"><span class="font-bold text-sm">Flight No.</span> {{past_launch.flight_number}}</li>
                                    <li class="mx-6 flex flex-col"><span class="font-bold text-sm">Crew</span> {{ past_launch.crew|length }}</li>
                                    <li class="flex flex-col"><span class="font-bold text-sm">Failures</span> {{ past_launch.failures|length }}</li>
                                </ul>
                                <!-- Photo -->
                                <div class="w-[20%] lg:w-auto  justify-center" style="text-align: -webkit-center;">
                                    <img src="{{past_launch.links.patch.small}}" alt="SpaceX launch badge image" class="rounded-full border-2" width="100" height="100"/>
                                </div>
                        
                                <!-- Title -->
                                <p class="text-base md:text-xl font-bold px-14 text-gray-300">
                                    {{past_launch.name}}
                                </p>
                                
                                {% if not past_launch.links.article %}
                                <a href="{{past_launch.links.reddit.campaign}}" class="text-sm font-light px-14 text-blue-300" target="_blank" rel="noopener noreferrer">
                                    Reddit Discussion
                                </a>
                                {% else %}
                                <a href="{{past_launch.links.article}}" class="text-sm font-light px-14 text-blue-300" target="_blank" rel="noopener noreferrer">
                                    SpaceX Launch Article
                                </a>
                                {% endif %}
                                
                                {% if past_launch.success %}
                                <span class="bg-green-400 text-gray-50 font-bold text-sm md:text-base rounded-md px-2 mt-1">Mission Success!</span>
                                {% endif %}
                            </div>
                        </card>
                        <!-- END Card -->
                    </div>
                </div>
            </div>
            <div class="w-full mt-12">
                <p class="text-xl pb-3 flex items-center">
                    <h1 class="text-3xl text-black pb-6 text-center md:text-left ">Crew</h1>
                </p>
                <div class="bg-white overflow-auto">
                    {% include 'main/table_crew_component.html' %}
                </div>
            </div>
        </main>
    </div>
</div>

<!-- AlpineJS -->
<script src="https://cdn.jsdelivr.net/gh/alpinejs/alpine@v2.x.x/dist/alpine.min.js" defer></script>
<!-- Font Awesome -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.13.0/js/all.min.js" integrity="sha256-KzZiKy0DWYsnwMF+X1DvQngQ2/FxF7MF3Ff72XcpuPs=" crossorigin="anonymous"></script>
<script>var next_launch_date = "{{next_launch.date_utc}}";</script>
<script src="{% static 'js/counter.js' %}"></script>
{% endblock content %}
